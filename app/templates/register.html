<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Sign Up Page</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body>
    <div class="login">
        <img class="pix" src="https://cdn.worldvectorlogo.com/logos/smile.svg" alt="Smile Logo" />
        <h1>Sign Up</h1>
        {% for message in get_flashed_messages() %}
            <p style="color: red;">{{ message }}</p>
        {% endfor %}
        <form action="{{ url_for('auth.register') }}" method="POST">
            {{ form.hidden_tag() }}  <!-- This adds the CSRF token -->

            <p>User Name</p>
            <input class="pas-text" type="text" name="username" placeholder="Enter UserName" value="{{ form.username.data if form.username.data else '' }}" />
            {% for error in form.username.errors %}
                <span style="color: red;">{{ error }}</span>
            {% endfor %}

            <p>Password</p>
            <input class="pas-text" type="password" name="password" placeholder="Enter Password" value="{{ form.username.data if form.username.data else '' }}" />
            {% for error in form.password.errors %}
                <span style="color: red;">{{ error }}</span>
            {% endfor %}

            <p>Confirm Password</p>
            <input class="pas-text" type="password" name="confirm" placeholder="Confirm Password" value="{{ form.username.data if form.username.data else '' }}"/>
            {% for error in form.confirm.errors %}
                <span style="color: red;">{{ error }}</span>
            {% endfor %}

            <input class="sub-text" type="submit" value="Register" />
        </form>
    </div>
</body>
</html>

